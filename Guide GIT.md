# GUIDE GIT(на несколько домашних заданий)

![Git  суть](Git.png)
 ***

 ***

> Системы контроля версий, одной из которых является *git*, используются при работе с самыми разными проектами, начиная от программных проектов и заканчивая написанием книги или статьи. При работе  с документами мы часто пользуем   ся командами *CTRL+S* (сохранить) и *CTRL+Z(отменить)*, а если мы хотим сделать несколько вариантов, нам приходится сохранять каждый из них в отдельный файл, что не всегда удобно. ***Git*** же позволяет делать все то же самое, но не на уровне отдельного файла, а на уровне целого проекта. Каталог с проектом в этом случае называется репозиторием(*repository*). 
> 
>Каждое такое глобальное CTRL+S называется коммитом (commit) и сохраняет текущую верси. проекта, к которой всегда можно будет вернуться в любой момент (глобальный CTRL+Z). 
>
>Также возможна работа с несколькими версиями, при этом не возникает множества файлов разных версий (на самом деле все изменения сохраняются в системной папке .git находящейся в корне репозитория, и ее лучше не трогать). 
>Кроме того git позволяет
работать с несколькими копиями репозитория, беря на себя все проблемы, связанные с синхронизацией данных. Это не только предохраняет от потерь и данных, но и делает возможным эффективную командную работу над проектом.
***
***

> ***Папка .git***
>
>Когда вы создаете новый репозиторий командой **git init**, Git создает волшебную папку, *.git.* В ней содержится все необходимое для работы Git. Если вы хотите убрать ***Git*** из  вашего проекта, но оставить проектные файлы на диске, просто удалите папку *.git*. Хотя кому такое может потребоваться?

![Содержание волшебной папки](papca.png)

***
***


## Конфигурация
git config --global user.name "[name]" — установить имя, которое будет прикрепляться к коммиту.

git config --global user.email "[email address]" — установить email, который будет прикрепляться к коммиту.

git config --global color.ui auto — включить полезную подсветку командной строки.

git config --global push.default current — обновлять удаленную ветку с таким же именем, что и локальная, при пуше изменений (если не указано иного).

git config --global core.editor [editor] — установить редактор для редактирования сообщений коммита.

git config --global diff.tool [tool] — установить программу для разрешения конфликтов при слиянии.

## Создание репозиториев

git init [project-name] — создать новый локальный репозиторий с заданным именем.

git clone [url] — загрузить проект и его полную историю изменений.

## Работа с изменениями
git status — полный список изменений файлов, ожидающих коммита.

git status -s — краткий вид изменений.

git diff — показать изменения в файлах, которые еще не были добавлены в индекс коммита (staged).

git add [file] — сделать указанный файл готовым для коммита.

git add . — сделать все измененные файлы готовыми для коммита.

git add '*.txt' — добавить только файлы, соответствующие указанному выражению.

git add --patch filename — позволяет выбрать какие изменения из файла добавятся в коммит.

git diff --staged — показать что было добавленно в индекс с помощью git add, но еще не было закоммиченно.

git diff HEAD — показать что изменилось с последнего коммита.

git diff HEAD^ — показать что изменилось с предпоследнего коммита.

git diff [branch] — сравнить текущую ветку с заданной.

git difftool -d — то же самое, что и diff, но показывает изменения в заданной difftool.

git difftool -d master.. — показать изменения, сделанные в текущей ветке.

git diff --stat — показать статистику какие файлы были изменены и как.

git reset [file] — убрать файлы из индекса коммита (изменения не теряются).

git commit — записать изменения в репозиторий. для написания сообщения откроется назначенный редактор.

git commit -m "[descriptive message]" — записать изменения с заданным сообщением.

git commit --amend — добавить изменения к последнему коммиту.

## Работа с ветками

![Основная или главная ветка](main.png)


 ![Пример разветвления](vetki.png)
git branch — список всех локальных веток в текущей директории.

git branch [branch-name] — создать новую ветку.

git checkout [branch-name] — переключиться на указанную ветку и обновить рабочую директорию.

git checkout -b <name> <remote>/<branch> — переключиться на удаленную ветку.

git checkout [filename] — вернуть файл в первоначальное состояние если он еще не был добавлен в индекс коммита.

git merge [branch] — соединить изменения в текущей ветке с изменениями из заданной.

git merge --no-ff [branch] — соединить ветки без режима “fast forwarding”.

git branch -a — посмотреть полный список локальных и удаленных веток.

git branch -d [branch] — удалить заданную ветку.

git branch -D [branch] — принудительно удалить заданную ветку, игнорируя ошибки.

git branch -m <oldname> <newname> — переименовать ветку.

## Работа с файлами

git rm [file] — удалить файл из рабочей директории и добавить в индекс информацию об удалении.

git rm --cached [file] — удалить файл из репозитория, но сохранить его локально.

git mv [file-original] [file-renamed] — изменить имя файла и добавить в индекс коммита.

## Отслеживание файлов

.gitignore — текстовый файл, в котором задаются правила для исключения файлов из репозитория. Например:

*.log
build/
temp-*
git ls-files --other --ignored --exclude-standard — список всех игнорируемых файлов.

## Сохранение фрагментов
git stash — положить во временное хранилище все отслеживаемые файлы.

git stash pop — восстановить последние файлы, положенные во временное хранилище.

git stash list — список всех сохраненных изменений во временном хранилище.

git stash drop — удалить последние файлы, положенные во временное хранилище.

## Просмотр истории
git log — список изменения текущей ветки.

git log --follow [file] — список изменения текущего файла, включая переименования.

git log --pretty=format:"%h %s" --graph — изменение вида отображения истории изменений.

git log --author='Name' --after={1.week.ago} --pretty=oneline --abbrev-commit — посмотреть над чем работал заданный пользователь последнюю неделю.

git log --no-merges master.. — посмотреть историю изменений только для текущей ветки.

git diff [file-branch]..[second-branch] — посмотреть различия между двумя заданными ветками.

git show [commit] — показать метадату и изменения в заданном коммите.

git show [branch]:[file] — посмотреть на файл в другой ветке, не переключаясь на неё.

## Отмена коммитов
git reset — убрать изменения из индекса коммита, сами изменения останутся.

git reset [commit/tag] — отменить все коммиты после указанного коммита, изменения будут сохранены локально.

git reset --hard [commit] — принудительно вернутся к указанному коммиту, не сохраняя историю и изменения.

 ## Синхронизация изменений
git fetch [bookmark] — загрузить всю историю с заданного удаленного репозитория.

git merge [bookmark]/[branch] — слить изменения локальной ветки и заданной удаленной.

git push — запушить текущую ветку в удаленную ветку.

git push [remote] [branch] — запушить ветку в указанный репозиторий и удаленную ветку.

git push [bookmark] :[branch] — в удаленном репозитории удалить заданную ветку.

git push -u origin master — если удаленная ветка не установлена как отслеживаемая, то сделать ее такой.

git pull — загрузить историю и изменения удаленной ветки и произвести слияние с текущей веткой.

git pull [remote][branch] — указать конкретную удаленную ветку для слияния.

git remote — посмотреть список доступных удаленных репозиториев.

git remote -v — посмотреть детальный список доступных удаленных репозиториев.

git remote add [remote][url] — добавить новый удаленный репозиторий.

Пока все

# ***Установка Git***
Создать свой проект и начать пользоваться Git в нем достаточно просто. Мы будем рассматривать работу в командной строке терминала, потому что там реализован полный набор команд. Вероятно, в будущем вам будет проще воспользоваться встроенными инструментами в крупном приложении (например, в Visual Studio, если вы программист).

*Однако командная строка все равно удобна для тонкой настройки и «нестандартных» действий, поэтому полезно представлять себе, как управлять проектом через нее.*

**Сначала потребуется установить Git на свой компьютер.** 

### Установка в Linux
Для дистрибутивов, похожих на Fedora, RHEL или CentOS, выполните команду dnf:

    
> sudo dnf install git-all


На Ubuntu и других Debian-подобных систем введите apt:


> sudo apt install git


Более подробные сведения можно получить по [ссылке](https://git-scm.com/download/linux.)

### Установка на Mac
Один из способов установки — воспользоваться Xcode Command Line Tools. В терминале нужно ввести:

   
> git --version


И следовать дальнейшим инструкциям.

Если вы пользуетесь *Homebrew*, запустите команду:


$ brew install git


Подробности доступны по [ссылке](https://git-scm.com/download/mac).

### Установка в Windows
Новейшая сборка доступна на официальном сайте **Git** по [ссылке](https://git-scm.com/download/win) (загрузка запустится автоматически).
# Ссылки
[  Инструкция  MD](https://paulradzkov.com/2014/markdown_cheatsheet "Я ссылка")

[Инструкция GIT](https://habr.com/ru/companies/vk/articles/493816/ "я инструкция")

# ***Принципы работы с Git*** #

+ У проектных файлов в Git есть 3 базовых состояния

  - Измененные (modified) — файлы в процессе рабочего редактирования.
  - Индексированные (staged) — та часть измененных файлов, которая уже подготовлена к фиксации после редактирования.
  - Зафиксированные (committed) — файлы, уже сохраненные в локальном репозитории.

+ У Git есть рабочий каталог, где хранятся метаданные и локальная база рабочего проекта. Именно эта часть копируется, когда вы клонируете проект (репозиторий) с сервера.

+ Чаще всего работа с Git устроена примерно так:

  - Вы вносите правки в файлы рабочей копии проекта.
  - Индексируете их, подготавливая к коммиту (здесь Git создает снимки новых правок).
  - Делаете коммит, и индексированные правки наконец сохраняются в вашем каталоге Git.

# Настройка Git

**Настроить рабочую среду нужно только один раз — после обновлений параметры не сбросятся. Если понадобится, в любое время можно изменить ваши настройки.**

*Самый удобный способ изменения конфигурации — встроенная утилита git config. Настройки Git имеют три уровня:*

- Параметры из файла [path]/etc/gitconfig (системные) могут работать для всех пользователей системы и репозиториев. Они редактируются командой git config —system.

- Параметры из файла ~/.gitconfig или ~/.config/git/config (глобальные) применяются к одному пользователю, если запустить команду git config —global.

- Локальные параметры из файла config в рабочем каталоге .git/config сохраняют только для выбранного репозитория. Ему соответствует команда git config —local.

***Если запускать git config без параметров, будет использоваться локальный уровень, никакие из более глобальных настроек не изменятся.***

- Всю используемую конфигурацию можно просмотреть так:

    
> git config --list --show-origin


- Представимся Git, чтобы в рабочих коммитах сохранялось ваше авторство:


    
> git config --global user.name "Danil Z"
> git config --global user.email danilz@danilz.com

- Также можно выбрать и текстовый редактор, введя команду git config —global core.editor. Например, чтобы выбрать Emacs, выполните:


    
> git config --global core.editor emacs

- В Windows нужно указывать полный путь к файлу. К примеру, для установки Notepad++ нужно запустить подобную команду:


    
> git config --global core.editor "'C:/Program Files/Notepad++/notepad++.exe' -multiInst -notabbar -nosession -noPlugin"

*Стоит отметить, что на практике текстовый редактор в Git может и не пригодиться, особенно если вы активно используете стороннее ПО — например, в Visual Studio все текстовые заметки для Git можно писать в отдельном окне. Текстовые редакторы в командной строке отличаются своеобразным управлением, которое потребует от вас отдельного изучения.*

**Общий список текущих настроек просматривается с помощью команды git config —list. Проверить, что записано в любой из доступных настроек, можно командой с ключом  git config <key>:**


    
> git config user.email

# Работа в репозитории
Как правило, есть два варианта начать работу с репозиторием *Git*:

- Можно выбрать локальный каталог и создать новый репозиторий в нем.
- Можно клонировать существующий репозиторий с локального компьютера или сервера. Обычно проекты клонируются именно с сервера.

***Если у вас на компьютере уже есть рабочий проект***, но еще не назначен контроль версий, то нужно 
+ ***сначала перейти в каталог проекта.***

- ## Linux:
    
> cd /home/user/SomeConsoleApp

- ## macOS:
  
> cd /Users/user/SomeConsoleApp

  -  ## Windows:
  
> cd C:/Users/user/SomeConsoleApp

+ ***Инициализируем репозиторий:***
 
> git init

*Команда создаст каталог с именем .git, в котором будут храниться структурные файлы репозитория.* 

**И, наконец, нужно добавить под контроль версий все существующие файлы командой git add . (точка в конце важна!). Можно добавлять и по одному файлу, с помощью git add <имя файла>.** 

Заодно создадим начальный коммит командой git commit:
    
> git add readme.md
> git commit -m 'Initial project version'

Команду git add можно гибко настраивать с помощью дополнительных параметров (флагов), которые подробно описаны в официальной [документации:](https://git-scm.com/docs/git-add.) К примеру, команда git add —force добавит даже игнорируемые файлы, а git add —update позволит обновить отслеживаемые файлы.

В этом репозитории вы можете продолжать работать и дальше, со временем обновляя его и отправляя рабочие версии на сервер.


## Клонирование существующего репозитория
Когда вы работаете в команде, разрабатываемые проекты часто размещают на сервере. Это один из самых распространенных сценариев. Вам нужно получить копию проекта последней версии на свой компьютер, чтобы далее вносить в него свой вклад.

В качестве примера мы будем рассматривать проект, который создадим на [ресурсе](https://github.com/) . После регистрации на сайте и подтверждения по e-mail нужно создать новый репозиторий, как показано на скриншотах.

Видно, что можно выбрать тип репозитория:

публичный (public) – доступ открыт для любого пользователя, однако права на редактирование выдает владелец проекта;
приватный/скрытый (private) — проект виден только владельцу, другие участники добавляются вручную.
Для нашего примера создадим приватный репозиторий под названием SomeConsoleApp и будем работать с ним далее.

Самые удобные способы клонирования проекта — через протоколы HTTP и SSH, прочесть обо всех более развёрнуто можно по [ссылке](https://git-scm.com/book/en/v2/Git-on-the-Server-The-Protocols.)

Для наших целей воспользуемся протоколом https и следующей командой:


    
> git clone https://github.com/DanZDev2/SomeConsoleApp  SomeConsoleApp

На вашем компьютере в каталоге, куда вы перешли в командной строке, должен появиться каталог SomeConsoleApp, внутри него — каталог .git и все скачанные файлы репозитория последней версии.

После получения проекта обычно начинается более рутинный рабочий процесс — правки, добавление функционала и т. д. Далее в какой-то момент вы захотите сохранить прогресс в новой версии проекта.

Правила и периодичность обновления могут быть почти любыми, но хорошим тоном обычно считается сохранять рабочую (или промежуточно завершенную) версию. Важное требование для команд разработчиков — возможность сборки проекта, иначе другие участники команды будут вынуждены тратить время на борьбу с ошибками компиляции.
